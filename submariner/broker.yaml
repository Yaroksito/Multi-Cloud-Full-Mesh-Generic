# --- Submariner Broker ---
# This resource is automatically created by the ACM submariner-addon in a
# dedicated namespace on the hub cluster. It acts as the central meeting point
# where all connected clusters exchange connectivity and service discovery metadata.
# After the ManagedClusterSet is created, the submariner-addon creates a 
# namespace called <managed-cluster-set-name>-broker and deploys the 
# Submariner broker to it.
apiVersion: submariner.io/v1alpha1
kind: Broker
metadata:
  name: submariner-broker
  # This namespace is auto-generated by ACM, named after the ManagedClusterSet.
  namespace: {ManagedClusterSet-name}-broker
  labels:
    # This label is used by ACM for backup and restore purposes.
    cluster.open-cluster-management.io/backup: submariner
spec:
  # When enabled, Globalnet provides a feature to handle overlapping CIDRs
  # between the connected clusters, which is a common issue in large enterprises.
  globalnetEnabled: true
  globalnetCIDRRange: 242.0.0.0/8

